name: GitHub Actions Demo
run-name: Norminette test ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v4
      - name: Install pip norminette
        run: |
          sudo apt-get update && sudo apt-get install -y python3-pip make clang
          pip3 install norminette
      - name: Norminette start
        run: |
          norminette -R CheckForbiddenSourceHeader | grep -q -v OK && exit 1
      - name: Try to compile
        run: |
          make || exit 1